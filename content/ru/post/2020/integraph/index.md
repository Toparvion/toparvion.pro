---
title: "–ö–∞–∫ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ Spring Integration –≤ Neo4j?"
subtitle: "–°—Ç—Ä–æ–∏–º –º–æ—Å—Ç –∏–∑ –º–∏—Ä–∞ Enterprise Java –≤ –º–∏—Ä –≥—Ä–∞—Ñ–æ–≤—ã—Ö –ë–î"
summary: "–°—Ç—Ä–æ–∏–º –º–æ—Å—Ç –∏–∑ –º–∏—Ä–∞ Enterprise Java –≤ –º–∏—Ä –≥—Ä–∞—Ñ–æ–≤—ã—Ö –ë–î"
authors:
  - toparvion
tags:
  - spring-integration
  - neo4j
  - spring-boot
  - –æ—Ç–ª–∞–¥–∫–∞
categories:
  - Graphs
date: 2020-04-14T08:31:05+07:00
lastmod: 2020-045-16T07:32:05+07:00
featured: false
draft: false

# Featured image
# To use, add an image named `featured.jpg/png` to your page's folder.
# Focal points: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight.
image:
  caption: ""
  focal_point: ""
  preview_only: false

# Projects (optional).
#   Associate this post with one or more of your projects.
#   Simply enter your project's folder or file name without extension.
#   E.g. `projects = ["internal-project"]` references `content/project/deep-learning/index.md`.
#   Otherwise, set `projects = []`.
projects: []

links:
  - icon: pencil-ruler
    icon_pack: fas
    name: –ß–∏—Ç–∞—Ç—å –Ω–∞ –•–∞–±—Ä–µ
    url: https://habr.com/ru/post/502256/

gallery_item:
- album: examples
  image: example-0.png
  caption: –ì—Ä–∞—Ñ –Ω–∞ 32 —É–∑–ª–∞ –∏ 27 —Å–≤—è–∑–µ–π
- album: examples
  image: example-1.png
  caption: –ì—Ä–∞—Ñ –Ω–∞ 37 —É–∑–ª–æ–≤ –∏ 41 —Å–≤—è–∑—å
- album: examples
  image: example-2.png
  caption: –ì—Ä–∞—Ñ –Ω–∞ 57 —É–∑–ª–æ–≤ –∏ 54 —Å–≤—è–∑–∏
- album: examples
  image: example-3.png
  caption: –ì—Ä–∞—Ñ –Ω–∞ 350 —É–∑–ª–æ–≤ –∏ 332 —Å–≤—è–∑–∏

---

–§—Ä–µ–π–º–≤–æ—Ä–∫ Spring Integration [—É–º–µ–µ—Ç](https://docs.spring.io/spring-integration/docs/5.2.5.RELEASE/reference/html/system-management.html#integration-graph) –æ—Ç–¥–∞–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö [EIP](https://www.enterpriseintegrationpatterns.com/)-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∏—Ö —Å–≤—è–∑–µ–π –≤ –≤–∏–¥–µ JSON-–≥—Ä–∞—Ñ–∞. –≠—Ç–æ –∫–∞–∂–µ—Ç—Å—è –æ—á–µ–Ω—å —É–¥–æ–±–Ω—ã–º –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏, –Ω–æ —É–≤—ã, –Ω–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∞–≥—É–≥–ª–∏–≤–∞–µ–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–∫–æ–∏—Ö –≤—Å–µ–≥–æ-—Ç–æ [—Ä–∞–∑](https://github.com/spring-projects/spring-flo/tree/angular-1.x/samples/spring-flo-si) /[–¥–≤–∞](https://ordina-jworks.github.io/architecture/2018/01/27/Visualizing-your-Spring-Integration-components-and-flows.html)) –Ω–µ –¥–∞—ë—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–∞–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —è –ø–æ–∫–∞–∂—É, –∫–∞–∫ —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –ø—É—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∞ –≥—Ä–∞—Ñ–∞ –≤ –≥—Ä–∞—Ñ–æ–≤—É—é –°–£–ë–î [Neo4j](https://neo4j.com/), –≥–¥–µ —Ç–∞–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å —Å—Ç–æ–∏—Ç –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ.

### –ö–æ—Ä–æ—á–µ (tl;dr)

–ï—Å–ª–∏ –≤–∫—Ä–∞—Ç—Ü–µ, —Ç–æ –≤–æ—Ç —á—Ç–æ –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å:

1. –û–±–µ—Å–ø–µ—á–∏—Ç—å [–æ—Ç–¥–∞—á—É](#–∫–∞–∫-–ø–æ–ª—É—á–∏—Ç—å-–æ–ø–∏—Å–∞–Ω–∏–µ-–≥—Ä–∞—Ñ–∞-–≤-json) –≥—Ä–∞—Ñ–∞ –≤ –≤–∏–¥–µ JSON –ø–æ –∏–∑–≤–µ—Å—Ç–Ω–æ–º—É URL.
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å [—ç—Ç–æ—Ç](#—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–∑–∞–ø—Ä–æ—Å) Cypher-–∑–∞–ø—Ä–æ—Å –≤ Neo4j Browser, –ø–æ–¥—Å—Ç–∞–≤–∏–≤ —Ç—É–¥–∞ URL.
1. –ü—Ä–æ—Ñ–∏—Ç üòã

–ù—É, –∞ –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –Ω–µ –∑–∞–≤–µ–ª–æ—Å—å –∏–ª–∏ —Å—Ç–∞–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏, —Ç–æ –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ.

{{% alert info %}}

–°—Ç–∞—Ç—å—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ —Ç–µ—Ö, –∫—Ç–æ –∑–Ω–∞–∫–æ–º —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π Spring –∏ –∏–º–µ–µ—Ç –±–∞–∑–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –≥—Ä–∞—Ñ–æ–≤–æ–π –°–£–ë–î Neo4j –∏ –µ—ë —è–∑—ã–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤ Cypher. –ù–æ –µ—Å–ª–∏ –Ω–µ—Ç, –Ω–µ –±–µ–¥–∞ ‚Äì –≤ —Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ—è—Å–Ω—è—é—â–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.

{{% /alert %}}

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤ JSON?

–ï—Å—Ç—å 2 –Ω–µ –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏—Ö —Å–ø–æ—Å–æ–±–∞:

1. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å `spring-integration-http` (–∏–ª–∏ `spring-integration-webflux`), —Ç–æ –≥—Ä–∞—Ñ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å, –¥—ë—Ä–Ω—É–≤ [Integration Graph Controller](https://docs.spring.io/spring-integration/docs/5.2.5.RELEASE/reference/html/system-management.html#integration-graph-controller).
1. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å `spring-integration-core` **–≤–º–µ—Å—Ç–µ** —Å–æ Spring Boot Actuator, —Ç–æ –≥—Ä–∞—Ñ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ –µ–≥–æ endpoint –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º [integrationgraph](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/production-ready-features.html#production-ready-endpoints) (–∫–æ—Ç–æ—Ä—ã–π [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints) –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ web).

–í –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```json
{
  "contentDescriptor": {
    "providerVersion": "5.2.4.RELEASE",
    "providerFormatVersion": 1.1,
    "provider": "spring-integration",
    "name": "analog"
  },
  "nodes": [
    {
      "nodeId": 3,
      "componentType": "ExecutorSubscribableChannel",
      "name": "brokerChannel"
    },
    // ...
  ],
  "links": [
    {
      "from": 19,
      "to": 8,
      "type": "output"
    },
    // ...
  ]
}
```

–ù–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –æ—Ç–≤–µ—Ç–∞ –≤—Å–µ–≥–¥–∞ —Ç–æ–ª—å–∫–æ 3 –ø–æ–ª—è:

- –û–±—ä–µ–∫—Ç `contentDescriptor` ‚Äì –æ–±—â–∏–π –æ–ø–∏—Å–∞—Ç–µ–ª—å –≥—Ä–∞—Ñ–∞; –ø–æ–ª–µ `name` –≤ –Ω—ë–º –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∏–º–µ–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–≤–æ–π—Å—Ç–≤–æ `spring.application.name`).
- –ú–∞—Å—Å–∏–≤ `nodes` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏—è –≤–µ—Ä—à–∏–Ω –≥—Ä–∞—Ñ–∞ ‚Äì —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –±–∏–Ω—ã –∫–æ—Ç–æ—Ä—ã—Ö –∏ —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä. –ù–∞—Ä—è–¥—É —Å –∏–º–µ–Ω–µ–º `name`, —Ç–∏–ø–æ–º `componentType` –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º `nodeId`, –≤ –Ω–µ–≥–æ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–∞—Å –æ–Ω–∏ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç.
- –ú–∞—Å—Å–∏–≤ `links` –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞, —Ç.–µ. —Å–≤—è–∑–∏ –º–µ–∂–¥—É EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ü–æ–ª*—è* `from` –∏ `to` —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è `nodeId` –∏—Å—Ö–æ–¥—è—â–µ–π –∏ –≤—Ö–æ–¥—è—â–µ–π –≤–µ—Ä—à–∏–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ê –ø–æ–ª–µ `type` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∏–ø —Å–≤—è–∑–∏, –∏—Ö –≤—Å–µ–≥–æ 5: `input`, `output`, `route`, `error`, `discard`.

{{< icon name="exclamation-triangle" pack="fas" >}} *–ö–∞–Ω–∞–ª—ã (–≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö EIP) **–Ω–µ** —è–≤–ª—è—é—Ç—Å—è —Ä—ë–±—Ä–∞–º–∏ –≤ –≥—Ä–∞—Ñ–µ!*  
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–∞–∫–∏–º–∏ –∂–µ –≤–µ—Ä—à–∏–Ω–∞–º–∏, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–¥–∞–ø—Ç–µ—Ä—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã, —Ä–∞–∑–≤–µ —á—Ç–æ –∏—Ö `componentType` –æ–±—ã—á–Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å–ª–æ–≤–æ–º *channel*.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –º–æ–¥–µ–ª—å –≥—Ä–∞—Ñ–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ [—ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ](https://docs.spring.io/spring-integration/docs/5.2.5.RELEASE/reference/html/system-management.html#integration-graph) –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ Spring Integration.

{{% alert info %}}

–î–∞–ª–µ–µ –ø–æ —Ç–µ–∫—Å—Ç—É –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞ –±—É–¥—É—Ç —á–∞—Å—Ç–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è ‚Äú—É–∑–ª–∞–º–∏‚Äù, –∞ —Ä—ë–±—Ä–∞ ‚Äì ‚Äú—Å–≤—è–∑—è–º–∏‚Äù, —á—Ç–æ–±—ã –±–æ–ª–µ–µ —è–≤–Ω–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å: –º–∞—Å—Å–∏–≤—ã  `nodes` –∏ `links` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –°–º—ã—Å–ª–æ–≤—ã—Ö –æ—Ç–ª–∏—á–∏–π –≤ —ç—Ç–∏—Ö —Ç–µ—Ä–º–∏–Ω–∞—Ö –Ω–µ—Ç.

{{% /alert %}}

#### –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π

–ü—Ä–µ–∂–¥–µ —á–µ–º –¥—ë—Ä–≥–∞—Ç—å –≥—Ä–∞—Ñ –ø—Ä—è–º–æ –∏–∑ Neo4j, –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —á–µ–º-—Ç–æ –ø–æ–ø—Ä–æ—â–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ã—á–Ω—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º, –ø–µ—Ä–µ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ [http://localhost:8080/actuator/integrationgraph](http://localhost:8080/actuator/integrationgraph) (–¥–ª—è —Å–ª—É—á–∞—è —Å–æ Spring Boot Actuator). –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ –ø–æ—Ö–æ–∂ –Ω–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ JSON, —Ç–æ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ, –Ω—É–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∑–¥–µ—Å—å.

–ß–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º–∞ –ª–∏–±–æ –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö [CORS](https://ru.wikipedia.org/wiki/Cross-origin_resource_sharing), –ª–∏–±–æ –≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Ç–¥–∞—é—â–µ–≥–æ –≥—Ä–∞—Ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Spring Boot (+Actuator) –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–æ –æ–±–µ –ø—Ä–æ–±–ª–µ–º—ã –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ª–µ–¥—É—é—â–∏—Ö [—Å—Ç—Ä–æ–∫](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/production-ready-features.html#production-ready-endpoints-cors):

```yaml
management:
  endpoints:
    web:
      exposure:
        include: '*'
      cors:
        allowed-origins: '*'
        allowed-methods: '*'
```

*(—Ç–æ–ª—å–∫–æ –Ω–µ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å —Ç–∞–∫ –Ω–∞ production! :pray: )*

–ê –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —á–∏—Å—Ç–æ–º Spring Integration, —Ç–æ —Å–º. –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ [—ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ](https://docs.spring.io/spring-integration/docs/5.2.5.RELEASE/reference/html/system-management.html#integration-graph-controller) –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

### –ö–∞–∫ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ –≤ Neo4j?

#### –í—Ö–æ–¥–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ß—Ç–æ–±—ã –∑–∞–ª–∏—Ç—å –≥—Ä–∞—Ñ –≤ Neo4j, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è 2 –≤–µ—â–∏:

1. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ **–°–£–ë–î Neo4j** *(–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ, –ø—Ä–∞–≤–¥–∞?)*  
   –ü–æ–¥–æ–π–¥—ë—Ç –ª—é–±–∞—è –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞:

   - –ù–∞—Å—Ç–æ–ª—å–Ω–∞—è [Neo4j Desktop](https://neo4j.com/download-center/#desktop)
   - –°–µ—Ä–≤–µ—Ä–Ω–∞—è [Neo4j Community Server](https://neo4j.com/download-center/#community)
   - –û–±–ª–∞—á–Ω–∞—è –ø–µ—Å–æ—á–Ω–∏—Ü–∞ [Neo4j Sandbox](https://neo4j.com/sandbox/)  
     *–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏*

1. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–µ–∑–Ω—ã—Ö Cypher-–ø—Ä–æ—Ü–µ–¥—É—Ä **APOC**

   –≠—Ç–æ –¥–µ-—Ñ–∞–∫—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Neo4j, –ø–æ—ç—Ç–æ–º—É –µ—ë –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä—è–º–æ —Å –∏—Ö [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://neo4j.com/docs/labs/apoc/current/introduction/#installation). –í –æ–±–ª–∞—á–Ω–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ Neo4j Sandbox –æ–Ω–∞ —É–∂–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å Neo4j –≤–µ—Ä—Å–∏–∏ **4.0.1**, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –°–£–ë–î –º—ã –∑–¥–µ—Å—å –Ω–µ –ø–æ–ª–∞–≥–∞–µ–º—Å—è, –≤—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –≤–µ—Ä—Å–∏—è—Ö.[^1] –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ APOC –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –ø–µ—Ä–≤—ã–µ 2 —Ü–∏—Ñ—Ä—ã –µ—ë –≤–µ—Ä—Å–∏–∏ —Å–æ–≤–ø–∞–¥–∞–ª–∏ —Å —Ç–∞–∫–∏–º–∏ –∂–µ —Ü–∏—Ñ—Ä–∞–º–∏ —É —Å–∞–º–æ–π Neo4j.

#### –ü–æ–¥—Ö–æ–¥ 1: –ø—Ä—è–º–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ—Å–∫–æ–ª—å–∫—É –≥—Ä–∞—Ñ Spring Integration, —Å—É–¥—è –ø–æ –µ–≥–æ JSON-–º–æ–¥–µ–ª–∏, —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –µ–≥–æ ‚Äú–∫–∞–∫ –µ—Å—Ç—å‚Äù –∏ –∑–∞–ª–∏—Ç—å –≤ –≥—Ä–∞—Ñ–æ–≤—É—é –°–£–ë–î: —É–∑–ª—ã ‚Äì –∫ –≤–µ—Ä—à–∏–Ω–∞–º, —Å–≤—è–∑–∏ ‚Äì –∫ —Ä—ë–±—Ä–∞–º, —Å–≤–æ–π—Å—Ç–≤–∞ ‚Äì –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º. –ò–∑ –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤ —É–∑–ª–æ–≤ –º—ã –≤–æ–∑—å–º—ë–º —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ: `nodeId`, `nodeName` –∏ `componentType`. –û–Ω–∏ –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –±–∞–∑–æ–≤—ã–º –∫–ª–∞—Å—Å–æ–º `org.springframework.integration.graph.IntegrationNode`, –ø–æ—ç—Ç–æ–º—É –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É –≤—Å–µ—Ö –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —É–∑–ª–æ–≤ (–Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ—á–Ω–æ).

–¢–µ–ø–µ—Ä—å –æ—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã –ø—Ä—è–º–æ –∏–∑ Neo4j —Å–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

> *–í–æ–∑—å–º–∏ JSON –≤–æ—Ç –ø–æ —ç—Ç–æ–º—É URL, –æ–±–æ–π–¥–∏ –≤–æ—Ç —Ç–∞–∫–∏–µ –µ–≥–æ –ø–æ–ª—è –∏ —Ä–∞–∑–ª–æ–∂–∏ –∏—Ö –¥–∞–Ω–Ω—ã–µ –ø–æ –≤–æ—Ç —Ç–∞–∫–∏–º –≤–µ—Ä—à–∏–Ω–∞–º –∏ —Ä—ë–±—Ä–∞–º –≤–æ—Ç —Å —Ç–∞–∫–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏.*

–ù–∞ —è–∑—ã–∫–µ [Cypher](https://neo4j.com/developer/cypher-query-language/) —ç—Ç–æ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:[^2]

```cypher
// (1) load JSON from URL:
WITH "http://localhost:8080/actuator/integrationgraph" AS url
CALL apoc.load.json(url) YIELD value	  
WITH value AS json, value.contentDescriptor AS jsonDescriptor
// (2) descriptor:
MERGE (descriptor:Descriptor {name: jsonDescriptor.name})
    ON CREATE SET
    descriptor.providerVersion = jsonDescriptor.providerVersion,
    descriptor.providerFormatVersion = jsonDescriptor.providerFormatVersion,
    descriptor.provider = jsonDescriptor.provider
// (3) nodes:
WITH json, descriptor
UNWIND json.nodes AS jsonNode
MERGE (node:Node {nodeId: jsonNode.nodeId})
    ON CREATE SET
    node.componentType = jsonNode.componentType,
    node.name = jsonNode.name
// (4) links:
WITH json, descriptor, node
UNWIND json.links AS jsonLink
MATCH (a:Node {nodeId: jsonLink.from}), (b:Node {nodeId: jsonLink.to})
MERGE (a)-[link:Link {type: jsonLink.type}]->(b)
// (5) result:
RETURN descriptor, node, link
```

–ù–µ –≤–¥–∞–≤–∞—è—Å—å –≤ –ø–µ—Ä–µ—Å–∫–∞–∑ [—Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞](https://neo4j.com/docs/cypher-refcard/4.0/) —è–∑—ã–∫–∞ Cypher, –æ–±–æ–∑–Ω–∞—á—É –æ—Å–Ω–æ–≤–Ω—ã–µ —á–∞—Å—Ç–∏ —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ —Ü–∏—Ñ—Ä–∞–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö):

1. –° –ø–æ–º–æ—â—å—é [APOC-–ø—Ä–æ—Ü–µ–¥—É—Ä—ã](https://neo4j.com/docs/labs/apoc/current/import/load-json/) `apoc.load.json(url)` –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º JSON-–≥—Ä–∞—Ñ —Ü–µ–ª–∏–∫–æ–º –≤ –ø–∞–º—è—Ç—å –∏ —Ä–∞–¥–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏ –∏ –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –µ–≥–æ –∫–æ—Ä–µ–Ω—å –≤ `json`, –∞ –æ–±—ä–µ–∫—Ç —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–º ‚Äì –≤ `jsonDescriptor`.
1. –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—ë–º –≤ –≥—Ä–∞—Ñ–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–µ—Ä—à–∏–Ω—É —Å –º–µ—Ç–∫–æ–π `Descriptor`, –¥–æ—Å–ª–æ–≤–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—è –≤ –µ—ë —Å–≤–æ–π—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `jsonDescriptor`.  
   {{< icon name="info-circle" pack="fas" >}} –ó–¥–µ—Å—å –∏ –¥–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ [–∫–æ–º–∞–Ω–¥–∞](https://neo4j.com/docs/cypher-manual/4.0/clauses/merge/) `MERGE`, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –≥—Ä–∞—Ñ–∞, –Ω–µ –ø–æ—Ä–æ–∂–¥–∞—è –æ—à–∏–±–∫–∏ –∏ –¥—É–±–ª–∏–∫–∞—Ç—ã. –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –≤–∞–∂–Ω–æ, `MERGE` –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `CREATE`.
1. –û–±—Ö–æ–¥–∏–º —É–∑–ª—ã JSON-–≥—Ä–∞—Ñ–∞ (–º–∞—Å—Å–∏–≤ `nodes`) –æ–ø–µ—Ä–∞—Ü–∏–µ–π `UNWIND` –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∏—Ö —Å–æ–∑–¥–∞—ë–º –≤ —Ü–µ–ª–µ–≤–æ–º –≥—Ä–∞—Ñ–µ –≤–µ—Ä—à–∏–Ω—É —Å –º–µ—Ç–∫–æ–π `Node`, –ø–æ–ø—É—Ç–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—è —Å–≤–æ–π—Å—Ç–≤–∞ `name` –∏ `componentType`.
1. –¢–æ–∂–µ —Å–∞–º–æ–µ –ø—Ä–æ–¥–µ–ª—ã–≤–∞–µ–º –∏–∑ —Å–æ —Å–≤—è–∑—è–º–∏ (–º–∞—Å—Å–∏–≤ `links`), –Ω–æ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ä–µ–±—Ä–∞ —Å –º–µ—Ç–∫–æ–π `Link` –æ—Ç—ã—Å–∫–∏–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω—è–µ–º—ã–µ –≤–µ—Ä—à–∏–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π `MATCH`, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ä–æ–∂–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã —ç—Ç–∏—Ö –≤–µ—Ä—à–∏–Ω.
1. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –≤–∫–ª—é—á–∞–µ–º –≤—Å—ë, —á—Ç–æ —Ç—É—Ç –ø–æ–Ω–∞—Å–æ–∑–¥–∞–≤–∞–ª–∏: —É–∑–ª—ã, —Å–≤—è–∑–∏ –∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä.

–ï—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤ [Neo4j Browser](https://neo4j.com/developer/neo4j-browser/) –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ [–≤–æ—Ç —Ç–∞–∫–æ–≥–æ](export/analog.json) JSON-–≥—Ä–∞—Ñ–∞, —Ç–æ –æ–Ω –±—É–¥–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

{{< figure src="img/analog-1.png" title=":mag: ‚Äã–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ê–Ω–∞–õ&oacute;–≥" lightbox="true" >}}

–í –æ–±—â–µ–º-—Ç–æ, —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞: EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–µ–≤—Ä–∞—â–µ–Ω—ã –≤ –≤–µ—Ä—à–∏–Ω—ã –≥—Ä–∞—Ñ–∞, –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω—ã —Ä—ë–±—Ä–∞ –≤ –Ω—É–∂–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö, –∞ –µ—Å–ª–∏ –ø–æ–≤–æ–¥–∏—Ç—å –∫—É—Ä—Å–æ—Ä–æ–º –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≥—Ä–∞—Ñ–∞ –≤ Neo4j Browser, —Ç–æ –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ –ø–∞–Ω–µ–ª–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤—Å—è–∫–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞–ª–∏ –≤ Cypher-–∑–∞–ø—Ä–æ—Å–µ:

![–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —É–∑–ª–∞](img/neo4j-browser-statusbar.png)

–ò –¥–∞–∂–µ ‚Äú—Ä–∞–∑–æ–±—â–µ–Ω–Ω–æ—Å—Ç—å‚Äù –≥—Ä–∞—Ñ–∞ (–Ω–∞–ª–∏—á–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ—Å—Ç–æ–≤–æ–≤) –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π –∏–º–ø–æ—Ä—Ç–∞, —ç—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–∞–∑–∞–ª–æ—Å—å –±—ã, –≤—Å—ë –û–ö.

–û–¥–Ω–∞–∫–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –±—ã—Å—Ç—Ä–æ –≤—ã—è—Å–Ω—è–µ—Ç—Å—è, —á—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –Ω–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ:

* –ü–ª–æ—Ö–æ –≤–∏–¥–Ω–æ, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∑–∞ –∫–∞–∂–¥—ã–º —É–∑–ª–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ —É–∑–ª—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ü–≤–µ—Ç –∏ —Ä–∞–∑–º–µ—Ä, –∞ –∏–º–µ–Ω–∞ –æ–±—Ä–µ–∑–∞–Ω—ã –∏ –∑–∞—á–∞—Å—Ç—É—é —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—ã–π —É –º–Ω–æ–≥–∏—Ö —É–∑–ª–æ–≤ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, `serverR...` –ú–æ–∂–Ω–æ, –∫–æ–Ω–µ—á–Ω–æ, –Ω–∞–≤–æ–¥–∏—Ç—å –∫—É—Ä—Å–æ—Ä –Ω–∞ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –∏ –≤–∏–¥–µ—Ç—å –µ–≥–æ –∏–º—è —Ü–µ–ª–∏–∫–æ–º –≤ —Å—Ç—Ä–æ–∫–µ —Å—Ç–∞—Ç—É—Å–∞, –Ω–æ —ç—Ç–æ —Ç–∞–∫ —Å–µ–±–µ —Ä–µ—à–µ–Ω–∏–µ.
* –¢—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤—è–∑–µ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ –æ–Ω–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π —Ç–∏–ø `Link`, –∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–≤–æ–π—Å—Ç–≤–µ `type`. –ò —ç—Ç–æ –Ω–µ –∏–∑—ä—è–Ω –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —è–∑—ã–∫–∞ Cypher, –≤ –∫–æ—Ç–æ—Ä–æ–º ‚Äú–∏–∑ –∫–æ—Ä–æ–±–∫–∏‚Äù –Ω–µ–ª—å–∑—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã —Ä—ë–±—ë—Ä –∏ –º–µ—Ç–∫–∏ –≤–µ—Ä—à–∏–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.
* –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –Ω–∏–∫–∞–∫ –Ω–µ —Å–≤—è–∑–∞–Ω —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≥—Ä–∞—Ñ–∞, –ø–æ—ç—Ç–æ–º—É –Ω–µ–ª—å–∑—è –ø–æ–Ω—è—Ç—å, –∫ –∫–∞–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π —É–∑–µ–ª, —Ä–∞–≤–Ω–æ –∫–∞–∫ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äì –Ω–µ–ª—å–∑—è –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä.

–ï—Å–ª–∏ —Ç–∞–∫–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –Ω–µ —Å–º—É—â–∞—é—Ç, —Ç–æ –¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ –Ω–µ —á–∏—Ç–∞—Ç—å, –∞ –µ—Å–ª–∏ –¥—É—Ö –ø—Ä–∞–≥–º–∞—Ç–∏–∫–∞ –≤—Å—ë –∂–µ –≤–∑–±—É–Ω—Ç–æ–≤–∞–ª—Å—è, —Ç–æ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è‚Ä¶

#### –ü–æ–¥—Ö–æ–¥ 2: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π

–ß—Ç–æ–±—ã –≥—Ä–∞—Ñ —Å—Ç–∞–ª –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º, –Ω–∞–º –Ω—É–∂–Ω–æ –≤–æ–∑–ª–æ–∂–∏—Ç—å —á–∞—Å—Ç—å —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –µ–≥–æ —É–∑–ª–æ–≤: —Ñ–æ—Ä–º—É, —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç. –ù–æ –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ –≤ Neo4j Browser –Ω–µ –ø–æ–¥ –Ω–∞—à–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º (—Ç–∞–º —Ç–æ–ª—å–∫–æ –∫—Ä—É–≥–∏, –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º –Ω—É–∂–Ω—ã [—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ](https://neo4j.com/developer/tools-graph-visualization/) –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä—ã), —Ç–æ —Ä–∞–∑–º–µ—Ä –∏ —Ü–≤–µ—Ç –º—ã –≤–ø–æ–ª–Ω–µ –º–æ–∂–µ–º –ø–æ–º–µ–Ω—è—Ç—å –∑–∞ —Å—á—ë—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ [**GraSS**](https://neo4j.com/developer/neo4j-browser/#browser-styling-adv) (Graph Style Sheet), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö Neo4j Browser‚Äô–æ–º. –ü—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ —Å—Ç–∏–ª—è [–ø—Ä–∏–ª–∞–≥–∞–µ—Ç—Å—è](export/style.grass) –∫ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ, –∞ —á—Ç–æ–±—ã –µ–≥–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `:style` –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Å—Ç–∏–ª—è –Ω–∞ –æ—Ç–∫—Ä—ã–≤—à—É—é—Å—è –ø–∞–Ω–µ–ª—å (–∑–∞—à—Ç—Ä–∏—Ö–æ–≤–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å):

{{< figure src="img/style-panel.png" title="–í—ã–¥–µ–ª–µ–Ω–Ω–∞—è –æ—Ä–∞–Ω–∂–µ–≤—ã–º –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç–∏–ª—å –≤ —É–º–æ–ª—á–∞—Ç–µ–ª—å–Ω—ã–π" lightbox="true" >}}

–ù–æ —ç—Ç–æ –µ—â—ë –Ω–µ –≤—Å—ë.  –°—Ç–∏–ª–∏ –≤ Neo4j Browser –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –Ω–µ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º —É–∑–ª–æ–≤, –∞ –∫ –∏—Ö –º–µ—Ç–∫–∞–º, –æ–¥–Ω–∞–∫–æ —É –Ω–∞—Å —Å–µ–π—á–∞—Å –≤—Å–µ —É–∑–ª—ã (–∫—Ä–æ–º–µ –æ–ø–∏—Å–∞—Ç–µ–ª—è) –∏–º–µ—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –º–µ—Ç–∫—É `Node`. –ò –¥–∞–∂–µ –±–µ–∑–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫ —Ç–æ–Ω–∫–æ—Å—Ç—è–º Neo4j Browser, –≤ –≥—Ä–∞—Ñ–æ–≤—ã—Ö –°–£–ë–î —á–∞—Å—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –º–µ—Ç–∫–∏ —É–∑–ª–æ–≤ –∫ —Ä–æ–ª—è–º, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–º –º–æ–¥–µ–ª–∏—Ä—É–µ–º—ã–º–∏ –∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –ø–æ–¥ –ø–æ–Ω—è—Ç–∏–µ ‚Äú—Ä–æ–ª–∏‚Äù –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥–ø–∞–¥–∞–µ—Ç —Ç–∏–ø EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: –∫–∞–Ω–∞–ª, –∞–¥–∞–ø—Ç–µ—Ä, —Ñ–∏–ª—å—Ç—Ä –∏ —Ç.–ø. –ù–æ –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–±–æ—Ä —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∑–∞—Ä–∞–Ω–µ–µ –Ω–µ –∏–∑–≤–µ—Å—Ç–µ–Ω, –Ω–∞—à Cypher-–∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—Ç –∫–∞–∫-—Ç–æ ‚Äú–Ω–∞ –ª–µ—Ç—É‚Äù –≤—ã–≤–æ–¥–∏—Ç—å –∏—Ö –∏ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –≤ –º–µ—Ç–∫–∏ —É–∑–ª–æ–≤. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —è–∑—ã–∫ Cypher ‚Äú–∏–∑ –∫–æ—Ä–æ–±–∫–∏‚Äù —Ç–∞–∫–æ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç: –¥–ª—è –Ω–µ–≥–æ –º–µ—Ç–∫–∏ ‚Äì –Ω–µ—á—Ç–æ —Å—Ä–æ–¥–Ω–∏ –∏–º–µ–Ω–∞–º —Ç–∞–±–ª–∏—Ü –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –ë–î, –ø–æ—ç—Ç–æ–º—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–º—è –º–µ—Ç–∫–∏ –ø—Ä—è–º–æ –ø–æ —Ö–æ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–ª—å–∑—è. –ó–¥–µ—Å—å –Ω–∞–º —Å–Ω–æ–≤–∞ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ APOC. –í –Ω–µ–π –µ—Å—Ç—å [–ø—Ä–æ—Ü–µ–¥—É—Ä–∞](https://neo4j.com/docs/labs/apoc/current/graph-updates/data-creation/) `apoc.merge.node`, –∫–æ—Ç–æ—Ä–∞—è —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/–æ–±–Ω–æ–≤–ª—è—Ç—å —É–∑–ª—ã, –ø—Ä–∏–Ω–∏–º–∞—è –∏—Ö –º–µ—Ç–∫–∏ –≤ –≤–∏–¥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

> merge **nodes with dynamic labels**, with support for setting properties ON CREATE or ON MATCH

–ó–¥–µ—Å—å –≤–∞–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞—Ä–∞—Ç—å—Å—è: —Ç–∏–ø–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ, –∏ –µ—Å–ª–∏ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É –±—É–¥–µ—Ç –æ—Ç–≤–µ–¥–µ–Ω —Å–≤–æ–π —Ü–≤–µ—Ç/—Ä–∞–∑–º–µ—Ä, —Ç–æ –º—ã —Ä–∏—Å–∫—É–µ–º –ø–æ–ø–∞—Å—Ç—å –≤ –¥—Ä—É–≥—É—é –∫—Ä–∞–π–Ω–æ—Å—Ç—å ‚Äì –≥—Ä–∞—Ñ –≤–∑—Ä–æ—Å–ª–æ–≥–æ, –±–æ–≥–∞—Ç–æ–≥–æ –ª–æ–≥–∏–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –ø—ë—Å—Ç—Ä–∞—è –º–µ—à–∞–Ω–∏–Ω–∞ —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω—ã—Ö –∫—Ä—É–∂–æ—á–∫–æ–≤. –ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, –º—ã –¥–æ–±–∞–≤–∏–º –≤ Cypher-–∑–∞–ø—Ä–æ—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —à–∞–≥ —Å–≤–æ–µ–æ–±—Ä–∞–∑–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç ‚Äú—Å—Ö–ª–æ–ø—ã–≤–∞—Ç—å‚Äù —Å—Ö–æ–∂–∏–µ —Ç–∏–ø—ã –≤ –æ–¥–∏–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –∫–∞–Ω–∞–ª–æ–≤ —Å–≤–µ–¥—ë—Ç –∫ –æ–¥–Ω–æ–º—É —Ç–∏–ø—É `channel`. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ [–≤—ã—Ä–∞–∂–µ–Ω–∏—è](https://neo4j.com/docs/cypher-manual/4.0/syntax/expressions/#query-syntax-case) `CASE`.

–¢–æ –∂–µ –∫–∞—Å–∞–µ—Ç—Å—è –∏ —Å–≤—è–∑–µ–π: –≤–æ-–ø–µ—Ä–≤—ã—Ö, —Ö–æ—Ä–æ—à–æ –±—ã —Å–¥–µ–ª–∞—Ç—å –∏—Ö —Ä–∞–∑–Ω—ã–º–∏ –ø–æ —Ü–≤–µ—Ç—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞, –≤–æ-–≤—Ç–æ—Ä—ã—Ö, –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–∞ –∏–∑ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ JSON-–¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ Cypher –∫–æ–º–∞–Ω–¥–∞ `MERGE`, –∞ –µ—ë –∞–Ω–∞–ª–æ–≥ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ APOC ‚Äì [–ø—Ä–æ—Ü–µ–¥—É—Ä–∞](https://neo4j.com/docs/labs/apoc/current/graph-updates/data-creation/) `apoc.merge.relationship`:[^1]

> merge **relationship with dynamic type**, with support for setting properties ON CREATE or ON MATCH

 –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ ‚Äú–ø—Ä–∏–≤—è–∑–∞—Ç—å‚Äù –æ–ø–∏—Å–∞—Ç–µ–ª—å –≥—Ä–∞—Ñ–∞ –∫ –æ—Å—Ç–∞–ª—å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ, —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –ª–µ–≥–∫–æ –≤—ã—è—Å–Ω–∏—Ç—å, –∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≥—Ä–∞—Ñ–∞ –æ–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∞ —Å –¥—Ä—É–≥–æ–π ‚Äì –ª–µ–≥–∫–æ –¥–æ–±—ã—Ç—å –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª—é–±–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –≥—Ä–∞—Ñ–∞, –Ω–µ –¥—É–±–ª–∏—Ä—É—è –µ—ë –≤ —Å–∞–º–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ. –ü–ª—é—Å –∫ —Ç–æ–º—É, —É –Ω–∞—Å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä–∞—Ñ–æ–≤ –≤ –æ–¥–Ω–æ–π –ë–î —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –ø—É—Ç–∞–ª–∏—Å—å, –∏ –∫–∞–∂–¥—ã–π –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ –∏–º–µ–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—Å–µ —ç—Ç–∏ —Ö–æ—Ç–µ–ª–∫–∏ –ª–µ–≥–∫–æ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—Å—è, –µ—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ –≤ –≥—Ä–∞—Ñ ‚Äú–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—É—é‚Äù —Å–≤—è–∑—å –º–µ–∂–¥—É –æ–ø–∏—Å–∞—Ç–µ–ª–µ–º –∏ –∫–∞–∂–¥—ã–º —É–∑–ª–æ–º –µ–≥–æ –≥—Ä–∞—Ñ–∞. –ù–∞–∑–æ–≤—ë–º —ç—Ç—É —Å–≤—è–∑—å `DESCRIBES` –∏ –æ—Å—Ç–∞–≤–∏–º –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ —Å–≤–æ–π—Å—Ç–≤.

##### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

–ò—Ç–∞–∫, —Å —É—á—ë—Ç–æ–º –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø–æ–∂–µ–ª–∞–Ω–∏–π, –Ω–∞—à –ø—Ä–µ–∂–Ω–∏–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω –ø—Ä–∏–º–µ—Ä–Ω–æ –¥–æ —Ç–∞–∫–æ–≥–æ:[^2]

```cypher
// (1) load JSON from URL:
WITH "http://localhost:8080/actuator/integrationgraph" AS url
CALL apoc.load.json(url) YIELD value
WITH value AS json, value.contentDescriptor AS jsonDesc
// (2) descriptor:
MERGE (descriptor:Descriptor {name: jsonDesc.name})
  ON CREATE SET
    descriptor.providerVersion = jsonDesc.providerVersion,
    descriptor.providerFormatVersion = jsonDesc.providerFormatVersion,
    descriptor.provider = jsonDesc.provider,
    descriptor.updated = localdatetime()
  ON MATCH SET
    descriptor.updated = localdatetime()
// (3) nodes:
WITH json, descriptor
UNWIND json.nodes AS jsonNode
CALL apoc.merge.node(
  /*labels*/ ['Node',
    CASE
      WHEN jsonNode.componentType IS NULL THEN "<unknown>"
      WHEN toLower(jsonNode.componentType) ENDS WITH "channel" THEN "channel"
      WHEN toLower(jsonNode.componentType) ENDS WITH "adapter" THEN "adapter"
      WHEN jsonNode.componentType CONTAINS '$' THEN "<other>"
      ELSE jsonNode.componentType
    END],
  /*identProps*/   {nodeId: jsonNode.nodeId, appName: descriptor.name},
  /*onCreateProps*/{name: jsonNode.name, componentType: jsonNode.componentType},
  /*onMatchProps*/ {}
) YIELD node
MERGE (descriptor)-[:DESCRIBES]->(node)
// (4) links:
WITH json, descriptor, node
UNWIND json.links AS jsonLink
MATCH (a:Node {nodeId: jsonLink.from})<-[:DESCRIBES]-(descriptor)-[:DESCRIBES]->(b:Node {nodeId: jsonLink.to})
CALL apoc.merge.relationship(a, toUpper(jsonLink.type), {}, {}, b, {}) YIELD rel
// (5) result:
RETURN descriptor
```

{{< icon name="download" pack="fas" >}} *[–û—Ç–∫—Ä—ã—Ç—å –∑–∞–ø—Ä–æ—Å —Ñ–∞–π–ª–æ–º](export/integraph.cypher)*

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –≤—ã—Ä–æ—Å—à–∏–π –æ–±—ä—ë–º, –∑–∞–ø—Ä–æ—Å –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç–µ—Ö –∂–µ 5 —á–∞—Å—Ç–µ–π (–ø–æ –Ω–æ–º–µ—Ä–∞–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö):

1. –ó–∞–≥—Ä—É–∂–∞–µ–º JSON –≤ –ø–∞–º—è—Ç—å –∏ –≤–≤–æ–¥–∏–º –∞–ª–∏–∞—Å—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏;
1. –°–æ–∑–¥–∞—ë–º/–æ–±–Ω–æ–≤–ª—è–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∫–∞–∫ —Ä–∞–Ω—å—à–µ, —Ç–æ–ª—å–∫–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Å–Ω–∞–±–∂–∞–µ–º –µ–≥–æ –º–µ—Ç–∫–æ–π —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º;
1. –°–æ–∑–¥–∞—ë–º/–æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π —É–∑–µ–ª, –±–µ–∑—É—Å–ª–æ–≤–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—è –µ–º—É –º–µ—Ç–∫—É `Node` (—á—Ç–æ–±—ã –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ –≤—Å—ë –∂–µ –æ—Å—Ç–∞–ª–æ—Å—å —á—Ç–æ-—Ç–æ –æ–±—â–µ–µ), –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–¥–µ–ª—ã–≤–∞–µ–º –≤—Ç–æ—Ä—É—é –º–µ—Ç–∫—É —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º:

   - `<unknown>`, –µ—Å–ª–∏ —É –¥–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞ –≤–æ–æ–±—â–µ –Ω–µ —É–∫–∞–∑–∞–Ω —Ç–∏–ø (—á—Ç–æ, –∫–æ–Ω–µ—á–Ω–æ, –¥–∏—á—å, –Ω–æ –∏–Ω–æ–≥–¥–∞ –±—ã–≤–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `UnzipTransformer`);
   - `channel`, –µ—Å–ª–∏ –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–æ–≤–æ *channel*, –Ω–∞–ø—Ä–∏–º–µ—Ä, `ExecutorSubscribableChannel`;
   - `adapter`, –µ—Å–ª–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ *adapter*, –Ω–∞–ø—Ä–∏–º–µ—Ä, `inbound-channel-adapter`;
   - `<other>`, –µ—Å–ª–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∑–Ω–∞–∫ `$`, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º (–±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è –Ω–∞—Å) –∏–º–µ–Ω–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `ServerConfig$$Lambda$994/0x00000008010fd440`;
   - —Å–∞–º —Ç–∏–ø, –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ –∏–∑ —É—Å–ª–æ–≤–∏–π –≤—ã—à–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `"componentType": "gateway"`.  
     –ü—Ä–∏ —ç—Ç–æ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è —Ç–∏–ø–∞ –≤—Å—ë –∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Å–≤–æ–π—Å—Ç–≤–µ `componentType` –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π. –ó–¥–µ—Å—å –∂–µ –ø–æ –∑–∞–¥—É–º–∫–µ –≤—ã—à–µ —Å–≤—è–∑—ã–≤–∞–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å –∫–∞–∂–¥—ã–º —É–∑–ª–æ–º —Å–≤—è–∑—å—é —Ç–∏–ø–∞ `DESCRIBES`.
1. –°–æ–∑–¥–∞—ë–º/–æ–±–Ω–æ–≤–ª—è–µ–º —Å–≤—è–∑–∏, –Ω–∞ —Å–µ–π —Ä–∞–∑ –≤—ã–±–∏—Ä–∞—è —Ç–∏–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—è `type` –∏–∑ JSON-–≥—Ä–∞—Ñ–∞ –∏ –ø—Ä–∏–≤–æ–¥—è –µ–≥–æ –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ª—É—á—à–∏–º [–ø—Ä–∞–∫—Ç–∏–∫–∞–º](https://neo4j.com/docs/cypher-manual/4.0/syntax/naming/#_recommendations) –≥—Ä–∞—Ñ–æ–≤—ã—Ö –ë–î.   
  –ó–¥–µ—Å—å –º—ã —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ–º —è–≤–Ω–æ–π —Å–≤—è–∑–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ —Å —Å–æ–µ–¥–∏–Ω—è–µ–º—ã–º–∏ —É–∑–ª–∞–º–∏. –≠—Ç–æ –Ω—É–∂–Ω–æ –ª–∏—à—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–ª—É—á–∞–π–Ω–æ –Ω–µ —Å–æ–µ–¥–∏–Ω–∏—Ç—å —É–∑–ª—ã —á—É–∂–∏—Ö –≥—Ä–∞—Ñ–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Ç–∞–∫–∏–µ –∂–µ `nodeId`. –ï—Å–ª–∏ –≥—Ä–∞—Ñ –≤ –¥–∞–Ω–Ω–æ–π –±–∞–∑–µ –≤—Å–µ–≥–æ –æ–¥–∏–Ω, —Ç–æ —ç—Ç–æ —É—Å–ª–æ–≤–∏–µ –º–æ–∂–Ω–æ –≤—ã–∫–∏–Ω—É—Ç—å –≤–º–µ—Å—Ç–µ —Å –ø–æ–ª–µ–º `appName` –≤ —É–∑–ª–∞—Ö.
1. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.  
  –ö–æ–Ω–µ—á–Ω–æ, –ª—É—á—à–µ –±—ã –≤–µ—Ä–Ω—É—Ç—å –≤–µ—Å—å –≥—Ä–∞—Ñ, –Ω–æ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞–º–µ–¥–ª—è–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –≤–æ –≤—Å–µ—Ö –º–æ–∏—Ö —Ç–µ—Å—Ç–∞—Ö. –¢–µ–º–∞ –Ω–∞ –ø–æ–¥—É–º–∞—Ç—å.

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≥—Ä–∞—Ñ–∞ –≤ Spring Integration, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –∑–∞–º–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è (–Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ —Å–µ–∫—É–Ω–¥ –Ω–∞ –º–æ–µ–π —Ä–∞–±–æ—á–µ–π –º–∞—à–∏–Ω–µ –¥–ª—è –≥—Ä–∞—Ñ–∞ –∏–∑ 350+ —É–∑–ª–æ–≤ –∏ 330+ —Å–≤—è–∑–µ–π, —Å–º. [–ø—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∏–º–µ—Ä—ã)). –í—Ä–µ–º—è –º–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –æ–±—ä—ë–º–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–π Neo4j –ø–∞–º—è—Ç–∏, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Å—Ç–æ–∏—Ç –Ω–∞ –Ω–µ–π —ç–∫–æ–Ω–æ–º–∏—Ç—å, –≤–µ–¥—å –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–º–∏—Ä–∞—Ç—å –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞, —Ç–æ –∏–º–ø–æ—Ä—Ç –º–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ –∑–∞—Ç—è–Ω—É—Ç—å—Å—è –∏–ª–∏ –¥–∞–∂–µ –∫–æ–Ω—á–∏—Ç—å—Å—è —Ç–∞–∫:

![OOM –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ](img/oom.png)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Neo4j –Ω–µ –æ—Å–æ–±–æ —Å—Ç–µ—Å–Ω—è–µ—Ç—Å—è –≤ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏, –ø–æ—ç—Ç–æ–º—É –Ω–∞—Ç–∫–Ω—É—Ç—å—Å—è –Ω–∞ —Ç–∞–∫—É—é –æ—à–∏–±–∫—É –Ω–µ–ø—Ä–æ—Å—Ç–æ. –ù–æ –µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, —Ç–æ –≤ –ø–æ—Å—Ç–∞–≤–∫–µ Neo4j –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ `bin/neo4j-admin`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–º–∞–Ω–¥—ã `memrec` —É–º–µ–µ—Ç –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–æ–π –∏ —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã –∂–∏—Ç—å —Ö–æ—Ä–æ—à–æ.

–ù–∞–ø–æ–º–Ω—é, —á—Ç–æ –ø–µ—Ä–µ–¥ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω—É–∂–Ω–æ –µ—â—ë –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø—É—Ç–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è GraSS-—Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, [—ç—Ç–æ–≥–æ](export/style.grass)) –Ω–∞ –ø–∞–Ω–µ–ª—å Neo4j Browser‚Äô–∞, –æ—Ç–∫—Ä—ã—Ç—É—é –∫–æ–º–∞–Ω–¥–æ–π `:style`.

#### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞

–ü–æ–∫–∞ –≤ –Ω–∞—à–µ–π –ë–î –≤—Å–µ–≥–æ –æ–¥–∏–Ω –≥—Ä–∞—Ñ, –≤—ã–≤–µ—Å—Ç–∏ –µ–≥–æ –º–æ–∂–Ω–æ –¥–∞–∂–µ –ø—Ä–æ—Å—Ç–µ–π—à–∏–º –∑–∞–ø—Ä–æ—Å–æ–º —Ç–∏–ø–∞ `MATCH (a) RETURN a`, –Ω–æ –∏–∑-–∑–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ —Å –∫–∞–∂–¥—ã–º —É–∑–ª–æ–º –≥—Ä–∞—Ñ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º. –ü–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –≤—ã–≤–µ—Å—Ç–∏ –µ–≥–æ —Ç–∞–∫, —á—Ç–æ–±—ã –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ø–∞–ª–∏ –≤—Å–µ —É–∑–ª—ã, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –¥–∞–Ω–Ω–æ–º—É –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—É, –Ω–æ –Ω–µ —Å–∞–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä. –ê –µ–≥–æ –ø—Ä–æ—â–µ –≤—Å–µ–≥–æ –Ω–∞–π—Ç–∏ –ø–æ –∏–º–µ–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ–ª–µ `name`):

```cypher
WITH "analog" AS appName
MATCH (:Descriptor {name: appName})-[:DESCRIBES]->(n:Node)-[l*0..1]-(:Node)
RETURN n, l
```

–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —É–∑–ª—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏ –æ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –≤—Å–µ –±–ª–∏–∂–∞–π—à–∏–µ —Å–≤—è–∑–∏ —ç—Ç–∏—Ö —É–∑–ª–æ–≤ (–¥–æ–ø—É—Å–∫–∞—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–∫–∏—Ö —Å–≤—è–∑–µ–π). –ü–æ–¥–æ–±–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∑–∞–æ–¥–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å –≥—Ä–∞—Ñ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∏—Ö –≤ –ë–î —É–∂–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ.

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è [—Å—Ç–∏–ª—è](export/style.grass) –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

{{< figure src="img/analog-2.png" title=":mag: –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞" lightbox="true" >}}

–ü–æ–º–∏–º–æ —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤, –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –≥—Ä–∞—Ñ–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ —É–∑–ª–∞—Ö –∏ —Å–≤—è–∑—è—Ö. –î–ª—è —Å–≤—è–∑–µ–π –º—ã –∑–∞–¥–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∏ —Å–∞–º–∏ –≤ Cypher-–∑–∞–ø—Ä–æ—Å–µ (—Å–º. –ø.4 –≤—ã—à–µ), –∞ –ø–æ–¥–ø–∏—Å—å —É–∑–ª–æ–≤ –∑–∞–¥–∞–Ω–∞ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª —Å—Ç–∏–ª–µ–π –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è [style.grass](export/style.grass), –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–∫–∞–∑–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–µ `componentType` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ—Ö —É–∑–ª–æ–≤ —Å –º–µ—Ç–∫–æ–π `Node`. –≠—Ç–æ —É–¥–æ–±–Ω–æ –≤ —Ç–µ—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ —á–∏—Ç–∞—Ç–µ–ª—é —Å—Ö–µ–º—ã –Ω–µ —Å–∏–ª—å–Ω–æ –≤–∞–∂–Ω—ã –∏–º–µ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –æ–Ω –≥–æ—Ç–æ–≤ —Å–º–æ—Ç—Ä–µ—Ç—å –∏—Ö –≤ —Å—Ç—Ä–æ–∫–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —É–∑–µ–ª. –ê –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ç–∞–∫, —Ç–æ –≤ —Ç–æ–º –∂–µ GraSS-—Ñ–∞–π–ª–µ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏ EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–¥–ø–∏—Å–∏ —É–∑–ª–∞:

```scss
node.Node {
  defaultCaption: "<id>";
  caption: "{name}";
}
```

–¢–æ–≥–¥–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ü–≤–µ—Ç–æ–≤—ã—Ö –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–π —á–∏—Ç–∞—Ç–µ–ª—é –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ–≥–ª—è–¥—ã–≤–∞—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω—é—é —á–∞—Å—Ç—å –ø–∞–Ω–µ–ª–∏ —Å –≥—Ä–∞—Ñ–æ–º –≤ Neo4j Browser ‚Äì —Ç–∞–º –µ—Å—Ç—å –ª–µ–≥–µ–Ω–¥–∞:

{{< figure src="img/colors-legend.png" title="–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ" lightbox="true" >}}

–†–∞–±–æ—Ç–∞—Ç—å —Å –≥—Ä–∞—Ñ–æ–º –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ —Å—Ç–∞—Ç—å –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ –∏ –ø—Ä–∏—è—Ç–Ω–µ–µ. –ù–æ –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –¥–µ–ª–æ –ª–∏—à—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Neo4j Browser, –∞ –Ω–µ –≤ —Å–∞–º–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ [–¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](https://neo4j.com/developer/tools-graph-visualization/) –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤.

### –ü—Ä–∏–º–µ—Ä—ã

–ë—É–¥—É—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –Ω–∞ —Å–ª—É–∂–±—É, Neo4j –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Ü–µ–Ω–Ω—ã–º –ø–æ–º–æ—â–Ω–∏–∫–æ–º –≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Spring Integration. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ —Ü–µ–Ω–Ω–æ, –∫–æ–≥–¥–∞ —ç—Ç–∏ –≥—Ä–∞—Ñ—ã –Ω–µ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã –∏ –∑–∞–ø—É—Ç–∞–Ω—ã, –∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–µ, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–Ω–µ –¥–æ–≤–æ–¥–∏–ª–æ—Å—å –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è:

{{< gallery album="examples" >}}

### –†–µ–∑—é–º–µ –∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, [–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å](#–∫–∞–∫-–ø–æ–ª—É—á–∏—Ç—å-–æ–ø–∏—Å–∞–Ω–∏–µ-–≥—Ä–∞—Ñ–∞-–≤-json) JSON-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥—Ä–∞—Ñ–∞ EIP-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Spring Integration. –û–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å —Å [—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏](#–≤—Ö–æ–¥–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è) –∫ –°–£–ë–î Neo4j –¥–ª—è –∑–∞–ª–∏–≤–∫–∏ –≥—Ä–∞—Ñ–∞ –≤ –Ω–µ—ë. [–°–æ—Å—Ç–∞–≤–∏–ª–∏](#–ø–æ–¥—Ö–æ–¥-1-–ø—Ä—è–º–∞—è-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è) –∑–∞–ø—Ä–æ—Å –Ω–∞ —è–∑—ã–∫–µ Cypher –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞ ‚Äú–∫–∞–∫ –µ—Å—Ç—å‚Äù –∏ –ø–æ–Ω—è–ª–∏, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –Ω–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ. –¢–æ–≥–¥–∞ [–ø—Ä–∏–º–µ–Ω–∏–ª–∏](#–ø–æ–¥—Ö–æ–¥-2-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-—Å-–ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π) –∫–∞—Å—Ç–æ–º–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ [—Ä–∞—Å—à–∏—Ä–∏–ª–∏](#—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–∑–∞–ø—Ä–æ—Å) –∑–∞–ø—Ä–æ—Å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π —É–∑–ª–æ–≤ –∏ —Å–≤—è–∑–µ–π. –ò —Ö–æ—Ç—è –∑–∞–ø—Ä–æ—Å –Ω–µ —Å—Ç–∞–ª —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–º, –æ–Ω –≤–ø–æ–ª–Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ —Å–≤–æ–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–¥–∞—á–µ–π (—á—Ç–æ –≤–∏–¥–Ω–æ –ø–æ [–ø—Ä–∏–º–µ—Ä–∞–º](#–ø—Ä–∏–º–µ—Ä—ã)) –∏ –º–æ–∂–µ—Ç –ø–æ—Å–ª—É–∂–∏—Ç—å –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –±–æ–ª–µ–µ –º–æ—â–Ω–æ–≥–æ Cypher-—Å–∫—Ä–∏–ø—Ç–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–µ–ª–∏.

–ú—ã –ø—Ä–∏–º–µ–Ω—è–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äì –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π [Neo4j Browser](https://neo4j.com/developer/neo4j-browser/). –û–Ω —É–¥–æ–±–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞, –Ω–æ –Ω–µ –≤—Å–µ–º–æ–≥—É—â; –∫ —Å—á–∞—Å—Ç—å—é, –µ—Å—Ç—å [–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã](https://neo4j.com/developer/tools-graph-visualization/). –¢–∞–∫–∂–µ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Äì –¥–∞–ª–µ–∫–æ –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –∏–º–ø–æ—Ä—Ç–∞ –≤ –≥—Ä–∞—Ñ–æ–≤—É—é –ë–î. –° –ø–æ–º–æ—â—å—é —è–∑—ã–∫–∞ Cypher –∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö [–±–∏–±–ª–∏–æ—Ç–µ–∫](https://neo4j.com/docs/graph-data-science/current/) –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∏–∑ –≥—Ä–∞—Ñ–∞ –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, —É–∑–Ω–∞—Ç—å —á–∏—Å–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ —Ç–∏–ø–∞–º/—Å–≤–æ–π—Å—Ç–≤–∞–º/—Å–≤—è–∑—è–º, –Ω–∞–π—Ç–∏ —Å–∞–º—É—é –¥–ª–∏–Ω–Ω—É—é/–∫–æ—Ä–æ—Ç–∫—É—é —Ü–µ–ø–æ—á–∫—É —Å–≤—è–∑–µ–π, –≤—ã—è–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–µ —É—á–∞—Å—Ç–∫–∏, –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ/–ø–∞—Ä–∞–∑–∏—Ç–Ω—ã–µ —É–∑–ª—ã –∏/–∏–ª–∏ —Å–≤—è–∑–∏, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –∑–∞–≤–∏—Å–∏–º—ã–µ/–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ç.–ø.

{{< icon name="share-alt" pack="fas" >}} –ï—Å–ª–∏ —É —Ç–µ–±—è, –¥–æ—Ä–æ–≥–æ–π —á–∏—Ç–∞—Ç–µ–ª—å, –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã/–∑–∞–º–µ—á–∞–Ω–∏—è/—É—Ç–æ—á–Ω–µ–Ω–∏—è –ø–æ —ç—Ç–æ–π —Ç–µ–º–µ, —Ç–æ –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–¥ —Å—Ç–∞—Ç—å—ë–π ‚Äì —è —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –Ω–∞ –Ω–∏—Ö –æ—Ç–≤–µ—á—É. –¢–∞–∫–∂–µ –±—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω, –µ—Å–ª–∏ —Ç—ã –ø–æ–¥–µ–ª–∏—à—å—Å—è —Å—Ç–∞—Ç—å—ë–π —Å –¥—Ä—É–≥–∏–º–∏ (share-—Å—Å—ã–ª–∫–∏ —á—É—Ç—å –Ω–∏–∂–µ) ‚Äì —Ç–∞–∫ –æ–Ω–∞ —Å –±–æ–ª—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —Å—Ç–∞–Ω–µ—Ç –¥–ª—è –∫–æ–≥–æ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω–æ–π :+1:

&nbsp;

[^1]: –í APOC-–ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö `apoc.merge.(relationship|node)` –≤–µ—Ä—Å–∏–∏ **3.x** (–∫–∞–∫ –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Neo4j Sandbox –Ω–∞ –∞–ø—Ä–µ–ª—å 2020) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä `onMatchProps`, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –Ω—É–∂–Ω–æ —Å—Ç–∏—Ä–∞—Ç—å –∏–∑ –∑–¥–µ—à–Ω–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤. –¢–∞–∫–∂–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ Sandbox –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ 2 (–Ω–∏–∂–µ).
[^2]: –ï—Å–ª–∏ Neo4j —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–∞ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –≤ Sandbox‚Äô–µ, —Ç–æ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, —Ç.–∫. `localhost` –¥–ª—è –Ω–µ—ë –±—É–¥–µ—Ç –¥—Ä—É–≥–∏–º. –ü—Ä–∏–¥—ë—Ç—Å—è –ª–∏–±–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–≤–æ–π JSON-–≥—Ä–∞—Ñ –≤–Ω–µ—à–Ω–∏–º –∞–¥—Ä–µ—Å–æ–º, –ª–∏–±–æ —Ö–æ—Ç—è –±—ã –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å [–≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞](export/analog.json) –≥—Ä–∞—Ñ–∞ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è [–ê–Ω–∞–õ&oacute;–≥](/project/analog).
