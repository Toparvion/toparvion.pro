---
title: "–ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–æ–∫–æ–≤"
subtitle: "–¢—Ä–µ–Ω–∏–Ω–≥ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –¥–∞–º–ø–∞–º–∏ –ø–æ—Ç–æ–∫–æ–≤"
summary: "–¢—Ä–µ–Ω–∏–Ω–≥ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –¥–∞–º–ø–∞–º–∏ –ø–æ—Ç–æ–∫–æ–≤"
authors:
  - toparvion
tags:
  - jvm
  - threads
  - dump
  - monitoring
  - jstack
  - deadlock
categories:
  - Performance
trainings:
  - performance
date: 2024-06-30
# lastmod: 2021-12-11T07:32:05+07:00
featured: false
draft: false
pager: true
show_breadcrumb: true

# Featured image
# To use, add an image named `featured.jpg/png` to your page's folder.
# Focal points: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight.
image:
  caption: "–¢–∏—Ç—É–ª—å–Ω—ã–π —Å–ª–∞–π–¥"
  focal_point: ""
  preview_only: false

links:
  - icon: book
    icon_pack: fas
    name: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ
    url: https://forms.yandex.ru/u/66b620c5f47e7313456e26e4/
#  - icon: github
#    icon_pack: fab
#    name: –¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
#    url: https://github.com/Toparvion/spring-petclinic-rest

gallery_item:
- album: examples/training/threads
  image: sample-slide-1.png
  caption: –ö–∞–∫ —Å–Ω—è—Ç—å –¥–∞–º–ø –ø–æ—Ç–æ–∫–æ–≤ –±–µ–∑ —Å–ø–µ—Ü.–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- album: examples/training/threads
  image: sample-slide-2.png
  caption: –§—Ä–∞–≥–º–µ–Ω—Ç –æ–±—Ö–æ–¥–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∞–º–ø–∞
- album: examples/training/threads
  image: sample-slide-3.png
  caption: –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞–ø—É—Å–∫–∞ —É—Ç–∏–ª–∏—Ç—ã jattach
- album: examples/training/threads
  image: sample-slide-4.png
  caption: –†–∞–∑–º–µ—á–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ VisualVM

# Projects (optional).
#   Associate this post with one or more of your projects.
#   Simply enter your project's folder or file name without extension.
#   E.g. `projects = ["internal-project"]` references `content/project/deep-learning/index.md`.
#   Otherwise, set `projects = []`.
projects: []
---
### –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∂–¥—ã–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ Java, Kotlin –∏ –¥—Ä—É–≥–∏—Ö JVM —è–∑—ã–∫–∞—Ö —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é. –ù–∞—á–∏–Ω–∞—è –æ—Ç –±–∞–Ω–∞–ª—å–Ω–æ–≥–æ –∑–∞–ª–∏–ø–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –∏–∑–æ—â—Ä—ë–Ω–Ω—ã–º–∏ –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–º–∏ deadlock‚Äô–∞–º–∏, —Ç–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –º–æ–≥—É—Ç –¥–æ–∫—É—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º ‚Äú—Å—á–∞—Å—Ç–ª–∏–≤—ã–º‚Äù –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–ª–∏ –≤–æ–≤—Å–µ –ø–æ–ª–æ–∂–∏—Ç—å –≤–µ—Å—å production. –ò –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∏—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.

–û—Å–Ω–æ–≤–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≤ —ç—Ç–∏—Ö —Å–ª—É—á–∞—è—Ö —è–≤–ª—è—é—Ç—Å—è **–¥–∞–º–ø—ã –ø–æ—Ç–æ–∫–æ–≤** (thread dumps). –ù–æ —á—Ç–æ–±—ã –æ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–º–æ–≥–∞–ª–∏, –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –∏—Ö –ø–æ–ª—É—á–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö, —á–µ–º –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–±–ª–µ–º—ã –∏, –∫–æ–Ω–µ—á–Ω–æ, –∫–∞–∫ –ø–æ –Ω–∏–º –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤.

–≠—Ç–∏–º –∑–∞–¥–∞—á–∞–º –∏ –ø–æ—Å–≤—è—â—ë–Ω –¥–∞–Ω–Ω—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥. –ü–æ–º–∏–º–æ –Ω–∏—Ö, –≤—ã —Ç–∞–∫–∂–µ –Ω–∞—É—á–∏—Ç–µ—Å—å –≤—ã—è–≤–ª—è—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø–æ—Ç–æ–∫–æ–≤ —á–µ—Ä–µ–∑ –¥–∞–º–ø—ã –∏ –ø–æ–Ω–∏–º–∞—Ç—å, –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –¥–∞–º–ø—ã –ø–æ—Ç–æ–∫–æ–≤ –º–æ–∂–Ω–æ –∏ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å/–¥–æ–ø–æ–ª–Ω–∏—Ç—å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

{{% callout note %}}
–§–æ—Ä–º–∞—Ç –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç—Ä–µ–Ω–∏–Ω–≥–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–µ—Ä–∏–∏ —Ç—Ä–µ–Ω–∏–Ω–≥–æ–≤ –ø—Ä–æ [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](/training/performance/).
{{% /callout %}}

### –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

#### –¢–µ–æ—Ä–∏—è üéì

1. –ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞–º–ø–∞ –ø–æ—Ç–æ–∫–æ–≤

2. –°–æ—Å—Ç–∞–≤ –¥–∞–Ω–Ω—ã—Ö –≤ –¥–∞–º–ø–µ

3. –ü–æ–∫–∞–∑–∞–Ω–∏—è –∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é

4. –ó–∞–Ω—è—Ç–æ—Å—Ç—å –ø–æ—Ç–æ–∫–∞ –∏ –µ–µ —Å–≤—è–∑—å —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

5. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–Ω—è—Ç–∏—è –¥–∞–º–ø–∞ –ø–æ—Ç–æ–∫–æ–≤ (6 –≤–∏–¥–æ–≤)

6. –°—Ö–æ–∂–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö (6 –ø—Ä–∏–º–µ—Ä–æ–≤)

7. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–º–ø–æ–≤ (5 —à—Ç.)

8. –ü—Ä–∏—ë–º—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞:

   * –£—á—ë—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ—Ç–æ–∫–æ–≤
   * –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∞–Ω–æ–Ω–∏–º–Ω—ã–º –∫–ª–∞—Å—Å–∞–º
   * –í—ã—è–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏
   * –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ –ø—É–ª–∞—Ö –ø–æ—Ç–æ–∫–æ–≤

#### –ü—Ä–∞–∫—Ç–∏–∫–∞ ‚öíÔ∏è

–†–∞–∑–±–æ—Ä —á–µ—Ç—ã—Ä—ë—Ö performance-–±–∞–≥–æ–≤, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–∏–≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –≤ [—Ç–µ—Å—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](https://github.com/Toparvion/spring-petclinic-rest) Spring PetClinic REST.

–í—Å–µ —á–µ—Ç—ã—Ä–µ –±–∞–≥–∞ (—É—á–µ–±–Ω—ã—Ö –∫–µ–π—Å–∞) —è–≤–ª—è—é—Ç—Å—è —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—è–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ &mdash; –æ—Ç –ø–æ—á—Ç–∏ –æ—á–µ–≤–∏–¥–Ω—ã—Ö –¥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö (—Å —É—á–∞—Å—Ç–∏–µ–º –°–£–ë–î). –í—Å–µ –æ–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ö–µ–º–µ:

1. –õ–µ–≥–µ–Ω–¥–∞ (–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∫–µ–π—Å–∞)
2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)
3. –ü—Ä–æ–±–ª–µ–º–∞
4. –®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
5. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ (—Ä–∞–∑–≥–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏)
6. –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è (—á–∞—â–µ –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)

{{% callout note %}}
–ö–µ–π—Å ‚Ññ4 —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ deadlock‚Äô–∞. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∑–∞–ø—É—Å–∫–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω Docker Compose —Ñ–∞–π–ª, –Ω–æ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏ –≤—Ä—É—á–Ω—É—é.
{{% /callout %}}

### –ü—Ä–∏–º–µ—Ä—ã —Å–ª–∞–π–¥–æ–≤
–ò–∑ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ –∑–∞–Ω—è—Ç–∏—è
{{< gallery album="training/threads" >}}

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –≤ —à–ø–∞—Ä–≥–∞–ª–∫–µ

* –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –¥–∞–º–ø –ø–æ—Ç–æ–∫–æ–≤
* –ß–µ–º —Å–Ω–∏–º–∞—Ç—å
* –ß–µ–º –æ—Ç–∫—Ä—ã–≤–∞—Ç—å
* –ß—Ç–æ –∏—Å–∫–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞

---

### –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ?
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –ø—Ä–æ–≤—ë–ª —ç—Ç–æ—Ç —Ç—Ä–µ–Ω–∏–Ω–≥ –≤ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏, –≤—ã&nbsp;–º–æ–∂–µ—Ç–µ:
{{< cta cta_text="–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É" cta_link="https://forms.yandex.ru/u/66b620c5f47e7313456e26e4/" cta_new_tab="true" cta_alt_text="–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å" cta_alt_link="https://t.me/Toparvion" cta_alt_new_tab="true" >}}